doctype html
html(lang='en')
  head
    meta(charset='utf-8')
    link(rel='apple-touch-icon', sizes='76x76', href='/assets/assets/img/apple-icon.png')
    link(rel='icon', type='image/png', sizes='96x96', href='/assets/assets/img/favicon.png')
    meta(http-equiv='X-UA-Compatible', content='IE=edge,chrome=1')
    title Online Booking and Spa Management System
    meta(content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0', name='viewport')
    meta(name='viewport', content='width=device-width')
    // Bootstrap core CSS
    link(href='/assets/paperDashboardPro/css/bootstrap.min.css', rel='stylesheet')
    // Paper Dashboard core CSS
    link(href='/assets/paperDashboardPro/css/paper-dashboard.css?v=1.2.1', rel='stylesheet')
    // CSS for Demo Purpose, don't include it in your project
    link(href='/assets/paperDashboardPro/css/demo.css', rel='stylesheet')
    // Fonts and icons
    link(href='https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css', rel='stylesheet')
    link(href='https://fonts.googleapis.com/css?family=Muli:400,300', rel='stylesheet', type='text/css')
    link(href='/assets/paperDashboardPro/css/themify-icons.css', rel='stylesheet')
  body.sidebar-mini
    .wrapper
      .sidebar(data-background-color='white', data-active-color='spa')
        //
          Tip 1: you can change the color of the sidebar's background using: data-background-color="white | brown"
          Tip 2: you can change the color of the active button using the data-active-color="primary | info | success | warning | danger"
        .logo
          a.simple-text.logo-mini(href='https://www.creative-tim.com')
            | CT
          a.simple-text.logo-normal(href='https://www.creative-tim.com')
            | Creative Tim
        .sidebar-wrapper
          .user
            .info
              .photo
                img(src='/assets/paperDashboardPro/img/faces/face-2.jpg')
              a.collapsed(data-toggle='collapse', href='#collapseExample')
                span
                  | Front Desk
              .clearfix
          ul.nav
            li
              a(href='./home')
                i.ti-pencil
                p
                  | Registration
            li.active
              a(href='./fdReservation')
                i.ti-calendar
                p
                  | Reservation
            li
              a(href='./payment')
                i.ti-credit-card
                p
                  | Payment
            li
              a(href='./therapist')
                i.ti-user
                p
                  | Therapist Attendance
            li
              a(href='./giftcert')
                i.ti-gift
                p
                  | Gift Certification        
      .main-panel
        nav.navbar.navbar-default
          .container-fluid
            .navbar-minimize
              button#minimizeSidebar.btn.btn-fill.btn-icon
                i.ti-more-alt
            .navbar-header
              button.navbar-toggle(type='button')
                span.sr-only Toggle navigation
                span.icon-bar.bar1
                span.icon-bar.bar2
                span.icon-bar.bar3
              a.navbar-brand(href='#calendar') Calendar
            .collapse.navbar-collapse
              form.navbar-form.navbar-left.navbar-search-form(role='search')
                .input-group
                  span.input-group-addon
                    i.fa.fa-search
                  input.form-control(type='text', value='', placeholder='Search...')
              ul.nav.navbar-nav.navbar-right
                li
                  a#date-part(style="color: black")
                li
                  a#time-part(style="color: black") 
                li
                  a.logout(style="cursor: pointer; color: black") Log Out
        .content
          .container-fluid
            .row
              .col-md-10.col-md-offset-1
                .card.card-calendar
                  .card-content
                    input(type='hidden' value=`${customerId}` id="Id")
                    input(type='hidden' value=`${restype}`)
                    input(type='hidden' value=`Male: ${male}`)
                    input(type='hidden' value=`Female: ${female}`)
                    #fullCalendar
        footer.footer
          .container-fluid
            .copyright.pull-right
              | Â© 
              script.
                document.write(new Date().getFullYear())
              | , made with 
              i.fa.fa-heart.heart
              |  by 
              a(href='https://www.creative-tim.com') Team MBAY
  // Core JS Files. Extra: TouchPunch for touch library inside jquery-ui.min.js
  script(src='/assets/paperDashboardPro/js/jquery-3.1.1.min.js', type='text/javascript')
  script(src='/assets/paperDashboardPro/js/jquery-ui.min.js', type='text/javascript')
  script(src='/assets/paperDashboardPro/js/perfect-scrollbar.min.js', type='text/javascript')
  script(src='/assets/paperDashboardPro/js/bootstrap.min.js', type='text/javascript')
  // Forms Validations Plugin
  script(src='/assets/paperDashboardPro/js/jquery.validate.min.js')
  // Promise Library for SweetAlert2 working on IE
  script(src='/assets/paperDashboardPro/js/es6-promise-auto.min.js')
  // Plugin for Date Time Picker and Full Calendar Plugin
  script(src='/assets/paperDashboardPro/js/moment.min.js')
  // Date Time Picker Plugin is included in this js file
  script(src='/assets/paperDashboardPro/js/bootstrap-datetimepicker.js')
  // Select Picker Plugin
  script(src='/assets/paperDashboardPro/js/bootstrap-selectpicker.js')
  // Switch and Tags Input Plugins
  script(src='/assets/paperDashboardPro/js/bootstrap-switch-tags.js')
  // Circle Percentage-chart
  script(src='/assets/paperDashboardPro/js/jquery.easypiechart.min.js')
  // Charts Plugin
  script(src='/assets/paperDashboardPro/js/chartist.min.js')
  // Notifications Plugin
  script(src='/assets/paperDashboardPro/js/bootstrap-notify.js')
  // Sweet Alert 2 plugin
  script(src='/assets/paperDashboardPro/js/sweetalert.js')
  // Vector Map plugin
  script(src='/assets/paperDashboardPro/js/jquery-jvectormap.js')
  // Google Maps Plugin
  script(src='https://maps.googleapis.com/maps/api/js?key=AIzaSyAFPQibxeDaLIUHsC6_KqDdFaUdhrbhZ3M')
  // Wizard Plugin
  script(src='/assets/paperDashboardPro/js/jquery.bootstrap.wizard.min.js')
  // Bootstrap Table Plugin
  script(src='/assets/paperDashboardPro/js/bootstrap-table.js')
  // Plugin for DataTables.net
  script(src='/assets/paperDashboardPro/js/jquery.datatables.js')
  // Full Calendar Plugin
  script(src='/assets/paperDashboardPro/js/fullcalendar.min.js')
  // Paper Dashboard PRO Core javascript and methods for Demo purpose
  script(src='/assets/paperDashboardPro/js/paper-dashboard.js?v=1.2.1')
  // Sharrre Library
  script(src='/assets/paperDashboardPro/js/jquery.sharrre.js')
  // Paper Dashboard PRO DEMO methods, don't include it in your project!
  script(src='/assets/paperDashboardPro/js/demo.js')
  script(type='text/javascript').
    $(document).ready(function(){
        var customerId= $('#Id').val()
        console.log(customerId)
          var reservetype = !{JSON.stringify(restype)}
          var male = !{JSON.stringify(male)}
          var female = !{JSON.stringify(female)}
          if(reservetype=='single')
          {
            $('#fullCalendar').fullCalendar({
              dayClick: function(date, jsEvent, view) {
                var now = moment().format('MM-DD-YYYY')
                var clicked = date.format('MM-DD-YYYY')
                console.log(male)
                console.log(female)
                console.log(reservetype)
                if(moment(clicked).isSameOrAfter(now)){
                    swal({
                      title: "You clicked " + date.format('MMMM DD, YYYY'),
                      text: "Are you sure?",
                      icon: "info",
                      buttons: ["Cancel","Proceed"],
                      dangerMode: true
                      
                    }).then((proceed) => {
                      if(proceed)
                      {
                        var newDate= date.format('MM-DD-YYYY')
                        location.href= `/selectTime?date=${newDate}&reservetype=${reservetype}&male=${male}&female=${female}`
                      }
                      else
                      {

                      }
                      });
                //- location.href= `/selectTime?date=${newDate}`
                }
              }
            })
          }
          else if(reservetype=='multiple')
          {
            
            $('#fullCalendar').fullCalendar({
              dayClick: function(date, jsEvent, view) {
                var now = moment().format('MM-DD-YYYY')
                var clicked = date.format('MM-DD-YYYY')
                console.log(male)
                console.log(female)
                console.log(reservetype)
                if(moment(clicked).isSameOrAfter(now)){
                    swal({
                      title: "You clicked " + date.format('MMMM DD, YYYY'),
                      text: "Are you sure?",
                      icon: "info",
                      buttons: ["Cancel","Proceed"],
                      dangerMode: true
                      
                    }).then((proceed) => {
                      if(proceed)
                      {
                        var newDate= date.format('MM-DD-YYYY')
                        location.href= `/selectTime?date=${newDate}&reservetype=${reservetype}&male=${male}&female=${female}`
                      }
                      else
                      {

                      }
                      });
                //- location.href= `/selectTime?date=${newDate}`
                }
              }
            })
          }
    });
  script.
    $(document).ready(function() {
      var interval = setInterval(function() {
          var momentNow = moment();
          $('#date-part').html(momentNow.format('YYYY MMMM DD') + ' '
                              + momentNow.format('dddd')
                              .substring(0,3).toUpperCase());
          $('#time-part').html(momentNow.format('A hh:mm:ss'));
      }, 100);
      
      $('#stop-interval').on('click', function() {
          clearInterval(interval);
      });
      //- $('#calendar').val('')
      });